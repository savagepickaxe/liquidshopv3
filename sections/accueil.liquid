<!-- Section Liquid -->
<div class="image-slider-wrapper">
  <div class="image-slider">
    {% for block in section.blocks %}
      <div class="slide">
        <img 
        width="100%"
        height="100%"
        src="{{ block.settings.image | img_url: 'large' }}" alt="{{ block.settings.alt_text }}">
      </div>
    {% endfor %}
  </div>

  <!-- Buttons for navigation -->
  <button class="prev">❮</button>
  <button class="next">❯</button>
</div>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    let slideIndex = 0;
    const slides = document.querySelectorAll('.slide');
    const prevButton = document.querySelector('.prev');
    const nextButton = document.querySelector('.next');

    function showSlides(index) {
      if (index >= slides.length) {
        slideIndex = 0;
      } else if (index < 0) {
        slideIndex = slides.length - 1;
      }
      slides.forEach(slide => slide.style.display = 'none');
      slides[slideIndex].style.display = 'block';
    }

    prevButton.addEventListener('click', function() {
      slideIndex--;
      showSlides(slideIndex);
    });

    nextButton.addEventListener('click', function() {
      slideIndex++;
      showSlides(slideIndex);
    });

    showSlides(slideIndex); // Show the first slide initially
  });
</script>

{% schema %}
{
  "name": "Image Slider",
  "settings": [],
  "blocks": [
    {
      "type": "image_slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Slide Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Slider Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}
